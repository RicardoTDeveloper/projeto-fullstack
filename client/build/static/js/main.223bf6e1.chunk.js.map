{"version":3,"sources":["services/api.js","pages/Login/index.js","pages/Dashboard/index.js","pages/New/index.js","routes.js","App.js","index.js","assets/camera.svg","assets/logo.svg"],"names":["api","axios","create","baseURL","Login","history","useState","email","setEmail","event","a","preventDefault","post","response","_id","data","localStorage","setItem","push","onSubmit","htmlFor","type","value","onChange","target","id","placeholder","className","Dashboard","spots","setSpots","useEffect","user_id","getItem","socketIoClient","query","on","console","log","get","headers","loadSpots","map","spot","key","style","backgroundImage","thumbnail","company","price","to","New","setThumnail","setCompany","techs","setTechs","setPrice","previewimg","setPreviewimg","preview","useMemo","URL","createObjectURL","imageaqui","file","reader","FileReader","readAsDataURL","onloadend","result","handleImageChange","files","src","camera","alt","Routes","path","exact","component","App","logo","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.223bf6e1.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst api = axios.create({\r\n    baseURL: 'https://api-nodejs-aircnc.azurewebsites.net/',\r\n});\r\n\r\nexport default api\r\n\r\n","import React, {useState} from 'react'\r\nimport api from '../../services/api'\r\n\r\n\r\nexport default function Login({history}) {\r\n\r\n    const [email, setEmail] = useState('');\r\n\r\n    async function handleSubmit(event) {\r\n      event.preventDefault();\r\n  \r\n      const response =  await api.post('/sessions', { email })\r\n  \r\n      const {_id} = response.data\r\n  \r\n      localStorage.setItem('user', _id);\r\n\r\n      history.push('/dashboard')\r\n      \r\n    }\r\n\r\n    return (\r\n        <>\r\n        <p>Ofereça spots para programadores e encontre talentos para sua empresa</p>\r\n\r\n        <form onSubmit={handleSubmit}>\r\n          <label htmlFor=\"\">E-mail</label>\r\n          <input type=\"text\" value={email} onChange={event => setEmail(event.target.value)} id=\"email\" placeholder=\"Seu melhor e-mail\"/>\r\n\r\n\r\n          <button className=\"btn\" type=\"submit\">Entrar</button>\r\n        </form>\r\n        </>\r\n    )\r\n}","import React, {useEffect, useState} from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport socketIoClient from 'socket.io-client'\r\nimport api from '../../services/api'\r\n\r\nimport './style.css'\r\n\r\nexport default function Dashboard() {\r\n    const [spots, setSpots] = useState([]);\r\n\r\n    useEffect(() => {\r\n\r\n        const user_id = localStorage.getItem('user')\r\n        const socket = socketIoClient('http://localhost:3333', {\r\n            query: {user_id},\r\n        });\r\n\r\n        socket.on('booking_request', data => {\r\n            console.log(data);\r\n        })\r\n       \r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        async function loadSpots() {\r\n            const user_id = localStorage.getItem('user')\r\n            const response = await api.get('/dashboard', {\r\n                headers: {user_id}\r\n            }) \r\n\r\n            setSpots(response.data)\r\n            // console.log(response.data)\r\n        }   \r\n\r\n        loadSpots()\r\n\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n        \r\n        <ul className=\"spot-list\">\r\n            {spots.map(spot => (\r\n                <li key={spot._id}>\r\n\r\n                     <header style={{ backgroundImage: `url(${spot.thumbnail})` }} />\r\n                     <strong>{spot.company}</strong>\r\n                     <span>{spot.price ? `R$${spot.price}/dia` : 'GRATUITO'}</span>\r\n\r\n                </li>\r\n            ))}\r\n        </ul>\r\n\r\n        <Link to=\"/new\">\r\n            <button className=\"btn\">Cadastrar novo spot</button>\r\n        </Link>\r\n\r\n        </>\r\n    )\r\n}","import React, { useState, useMemo } from 'react'\r\nimport api from '../../services/api'\r\n\r\n\r\nimport camera from '../../assets/camera.svg'\r\nimport './style.css'\r\n\r\nexport default function New({ history }) {\r\n    const [thumbnail, setThumnail] = useState(null);\r\n    const [company, setCompany] = useState('');\r\n    const [techs, setTechs] = useState('');\r\n    const [price, setPrice] = useState('');\r\n\r\n    const [previewimg, setPreviewimg] = useState('');\r\n\r\n    // Image tratamento\r\n    const preview = useMemo(() => {\r\n\r\n        return previewimg ? URL.createObjectURL(previewimg) : null;\r\n\r\n    }, [previewimg])\r\n\r\n    \r\n    function handleImageChange(imageaqui) {\r\n\r\n        setPreviewimg(imageaqui)\r\n\r\n        let file = imageaqui;\r\n        let reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n\r\n       reader.onloadend = function () {\r\n        setThumnail(reader.result)\r\n\r\n        }\r\n\r\n      }\r\n\r\n    async function handleSubmit(event) {\r\n        event.preventDefault();\r\n\r\n        // const data = new FormData();\r\n        const user_id = localStorage.getItem('user')\r\n\r\n        // data.append('thumbnail', thumbnail)\r\n        // data.append('company', company)\r\n        // data.append('techs', techs)\r\n        // data.append('price', price)\r\n\r\n        await api.post('/spots', {\r\n            thumbnail: thumbnail,\r\n            company: company,\r\n            techs: techs,\r\n            price: price,\r\n        }, {\r\n            headers: { user_id }\r\n        })\r\n\r\n        history.push('/dashboard')\r\n\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n\r\n            <label id=\"thumbnail\"\r\n                style={{ backgroundImage: `url(${preview})` }}\r\n                className={thumbnail ? 'has-thumbnail' : ''}  >\r\n                <input type=\"file\" onChange={event => handleImageChange(event.target.files[0])} />\r\n                <img src={camera} alt=\"Select img\" />\r\n            </label>\r\n\r\n            <label htmlFor=\"company\">EMPRESA *</label>\r\n            <input\r\n                type=\"text\"\r\n                placeholder=\"Sua empresa incrível\"\r\n                value={company}\r\n                onChange={event => setCompany(event.target.value)}\r\n            />\r\n\r\n            <label htmlFor=\"techs\">TECNOLOGIAS * <span>(separadas por vírgulas)</span></label>\r\n            <input\r\n                type=\"text\"\r\n                placeholder=\"Quais tecnologias usam?\"\r\n                value={techs}\r\n                onChange={event => setTechs(event.target.value)}\r\n            />\r\n\r\n            <label htmlFor=\"price\">VALOR DA DIARIA * <span>(em branco para GRATUITO)</span></label>\r\n            <input\r\n                type=\"text\"\r\n                placeholder=\"Valor cobrado por dia\"\r\n                value={price}\r\n                onChange={event => setPrice(event.target.value)}\r\n            />\r\n\r\n            <button type=\"submit\" className=\"btn\">Cadastrar</button>\r\n\r\n        </form>\r\n    )\r\n}","import React from 'react'\r\nimport {HashRouter, Switch, Route} from 'react-router-dom'\r\n\r\nimport Login from './pages/Login';\r\nimport Dashboard from './pages/Dashboard';\r\nimport New from './pages/New';\r\n\r\nexport default function Routes() {\r\n\r\n    return (\r\n        <HashRouter>\r\n        <Switch> \r\n            <Route path=\"/\" exact component={Login} />\r\n            <Route path=\"/dashboard\" component={Dashboard} />\r\n            <Route path=\"/new\" component={New} />\r\n        </Switch>\r\n        </HashRouter>\r\n    )\r\n\r\n}","import React from 'react';\r\n\r\nimport './App.css';\r\nimport Routes from './routes';\r\n\r\nimport logo from './assets/logo.svg';\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <img src={logo} alt=\"AirCnC\"/>\r\n\r\n      <div className=\"content\">\r\n        <Routes />\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n","module.exports = __webpack_public_path__ + \"static/media/camera.234a4ab9.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.91c62ad4.svg\";"],"sourceRoot":""}